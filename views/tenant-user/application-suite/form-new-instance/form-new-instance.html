<div class="card" style="margin-right: 15px;margin-left: 15px;">
    <div class="card-body">
        <h4 class="card-title">
            <i class="fas fa-arrow-left" style="margin-right: 20px;"
                ui-sref="tenantUser.applicationSuite.home.applicationInstance({applicationSuiteId})"></i>
            New Instance
        </h4>
        <h6 class="text-muted card-subtitle mb-4" style="padding-left: 50px">
            {{applicationSuite.applicationSuiteName}}
        </h6>
        <form>
            <label>Select Application <search filter="filterApplicationList" position="right"></search></label>
            <div class="table-responsive" style="font-size: 14px">
                <table class="table table-hover table-sm">
                    <thead>
                        <tr>
                            <th>Application Name<br></th>
                            <th>Description<br></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="cursor: pointer;"
                            ng-repeat="_applicationList in applicationList | filter: filterApplicationList || applicationNow track by $index"
                            ng-class="{'bg-primary': applicationNow === _applicationList}"
                            ng-click="setApplicationNow(_applicationList)"
                            ng-style="{color: applicationNow === _applicationList? 'white': ''}">
                            <td>{{_applicationList.name}}</td>
                            <td>{{_applicationList.description}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <button class="btn btn-primary" style="margin-bottom: 20px" type="button" ng-show="applicationNow"
                ng-click="applicationNow=null">
                Reselect Application
            </button>
            <div ng-show="applicationNow">
                <label>Instance Name</label>
                <input class="form-control" type="text" placeholder="Instance Name" ng-model="instance.name">
                <label>Description</label>
                <input class="form-control" type="text" placeholder="Description" ng-model="instance.description">
                <div ng-repeat="property in properties track by $index">
                    <label>{{property.propertyName}}</label>
                    <input class="form-control"
                        ng-if="!property.propertyFormat || property.propertyFormat == 'text' || property.propertyFormat == 'password'"
                        type="{{property.propertyFormat}}" placeholder="{{property.propertyName}}"
                        ng-model="property.propertyValue">
                    <textarea placeholder="{{property.propertyName}}"
                        ng-if="!property.propertyFormat || property.propertyFormat == 'area'"
                        ng-model="property.propertyValue"></textarea>
                    <select class="form-control" ng-if="property.propertyFormat && property.propertyFormat == 'select'"
                        ng-model="property.propertyValue">
                        <option ng-repeat="key in property.selection" ng-value="key">{{key}}</option>
                    </select>
                </div>
                <div style="margin-top: 30px;">
                    <button class="btn btn-primary" type="button"
                        style="padding-right: 40px;padding-left: 40px;margin-right: 10px;"
                        ng-click="save(applicationNow, instance, properties)">
                        Save
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>